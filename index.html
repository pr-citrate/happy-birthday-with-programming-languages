<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <title>Happy Birthday</title>

  <!-- Google Fonts: Roboto -->
  <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap" rel="stylesheet">

  <!-- Highlight.js CSS: Atom One Light Theme -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/atom-one-light.min.css">
  
  <!-- Devicon CSS -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/devicons/devicon@v2.15.1/devicon.min.css">
  
  <style>
    /* Reset default styles */
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    /* Body styles */
    body {
      font-family: 'Roboto', sans-serif;
      background: linear-gradient(135deg, #f5f7fa, #c3cfe2);
      min-height: 100vh;
      display: flex;
      justify-content: center;
      align-items: center;
      padding: 20px;
    }

    /* Container styles */
    .container {
      background: white;
      padding: 40px 60px;
      border-radius: 15px;
      box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
      max-width: 800px;
      width: 100%;
      text-align: center;
      transition: all 0.3s ease;
      display: flex;
      flex-direction: column;
      align-items: center;
    }

    /* Heading styles */
    h1, h2 {
      color: #333;
      transition: color 0.3s ease;
    }

    h1 {
      font-size: 3rem;
      margin-bottom: 30px;
    }

    h2 {
      font-size: 2rem;
      margin-bottom: 20px;
      display: flex;
      align-items: center;
      gap: 10px;
      justify-content: center;
    }

    /* Language Logo Styles */
    .language-logo {
      font-size: 40px;
    }

    /* Navigation buttons styles */
    .nav-buttons {
      margin-top: 30px;
      display: none; /* Hidden initially */
      justify-content: center;
      gap: 20px;
    }

    .nav-buttons button {
      padding: 12px 30px;
      font-size: 1rem;
      font-weight: 700;
      color: white;
      background-color: #007BFF;
      border: none;
      border-radius: 50px;
      cursor: pointer;
      box-shadow: 0 5px 15px rgba(0, 123, 255, 0.4);
      transition: background-color 0.3s ease, transform 0.2s ease;
    }

    .nav-buttons button:hover {
      background-color: #0056b3;
      transform: translateY(-2px);
    }

    .nav-buttons button:active {
      transform: translateY(0);
      box-shadow: 0 3px 10px rgba(0, 123, 255, 0.4);
    }

    /* Start button styles */
    #startButton {
      padding: 12px 30px;
      font-size: 1rem;
      font-weight: 700;
      color: white;
      background-color: #28a745;
      border: none;
      border-radius: 50px;
      cursor: pointer;
      box-shadow: 0 5px 15px rgba(40, 167, 69, 0.4);
      transition: background-color 0.3s ease, transform 0.2s ease;
      margin-top: 20px; /* 추가 여백 */
    }

    #startButton:hover {
      background-color: #1e7e34;
      transform: translateY(-2px);
    }

    #startButton:active {
      transform: translateY(0);
      box-shadow: 0 3px 10px rgba(40, 167, 69, 0.4);
    }

    /* Code block styles */
    pre {
      text-align: left;
      border-radius: 10px;
      overflow: auto;
      max-height: 400px;
      margin-bottom: 20px;
      box-shadow: 0 5px 15px rgba(0,0,0,0.1);
      opacity: 0;
      transform: translateY(20px);
      animation: fadeInUp 0.5s forwards;
      width: 100%;
    }

    code {
      display: block;
      padding: 20px;
      font-size: 1rem;
      line-height: 1.5;
    }

    /* Animation */
    @keyframes fadeInUp {
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    /* Responsive design */
    @media (max-width: 600px) {
      .container {
        padding: 20px 30px;
      }

      h1 {
        font-size: 2.5rem;
      }

      .nav-buttons button, #startButton {
        width: 100%;
      }

      h2 {
        flex-direction: column;
        gap: 5px;
      }

      .language-logo {
        font-size: 30px;
      }
    }
  </style>
</head>
<body>

  <div class="container" id="contentContainer">
    <div id="content"></div>
    <button id="startButton">Start</button>
    <div class="nav-buttons">
      <button id="prevButton">Previous</button>
      <button id="nextButton">Next</button>
    </div>
  </div>

  <!-- Highlight.js JS -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>

  <!-- Individual language support scripts -->
  <!-- 필요한 언어의 Highlight.js 스크립트를 추가하세요 -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/languages/javascript.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/languages/python.min.js"></script>
  <!-- 다른 언어들도 추가하세요 -->

  <script>
    document.addEventListener('DOMContentLoaded', () => {
      // 코드 스니펫 정의
      const codeSnippets = {
        "rust": `fn main() {
    println!("Happy birthday!");
}`,
        "scala": `object Main extends App {
  println("Happy birthday!")
}`,
        "fsharp": `open System
printfn "Happy birthday!"`,
        "x86asm": `.LC0:
    .string "Happy birthday!"
main:
    endbr64
    pushq %rbp
    movq %rsp, %rbp
    leaq .LC0(%rip), %rax
    movq %rax, %rdi
    movl $0, %eax
    call printf@PLT
    movl $0, %eax
    popq %rbp
    ret`,
        "d": `import std;
void main() {
    writeln("Happy birthday!");
}`,
        "ada": `with Ada.Text_IO; use Ada.Text_IO;
procedure Hello is
begin
  Put_Line ("Happy birthday!");
end Hello;`,
        "elixir": `IO.puts "Happy birthday!"`,
        "haskell": `main = putStrLn "Happy birthday!"`,
        "php": `<?php
echo "Happy birthday!";
?>`,
        "ocaml": `print_string "Happy birthday!";`,
        "java": `public class Main {
    public static void main(String[] args) {
        System.out.println("Happy birthday!");
    }
}`,
        "python": `print("Happy birthday!")`,
        "perl": `print "Happy birthday!";`,
        "ruby": `puts "Happy birthday!"`,
        "javascript": `console.log("Happy birthday!");`,
        "typescript": `console.log("Happy birthday!" as string);`,
        "bash": `echo "Happy birthday!"`,
        "basic": `PRINT "Happy birthday!"`,
        "dart": `void main() {
    print("Happy birthday");
}`,
        "arduino": `void setup() {
    Serial.begin(9600);
    Serial.println("Happy birthday!");
} 
void loop() {}`,
        "fortran": `program main
    write(*,*) "Happy birthday!"
end program main`,
        "csharp": `using System;
namespace HappyBirthday
{
    class Congratulate
    {
        private static void Main()
        {
            Console.WriteLine("Happy birthday!");
        }
    }
}`,
        "r": `cat("Happy birthday!\\n")`,
        "go": `package main
import "fmt"
func main() {
    fmt.Println("Happy Birthday!")
}`,
        "cpp": `#include <iostream>
using namespace std;
int main() {
  cout << "Happy birthday!" << endl;
  return 0;
}`,
        "lua": `print("Happy birthday!")`,
        "sql": `INSERT INTO table_name (column1) VALUES ("Happy birthday");`,
        "clojure": `(println "Happy birthday!")`
      };

      // 언어별 아이콘 클래스 매핑 (Devicon 사용)
      const languageIcons = {
        "rust": "devicon-rust-plain",
        "scala": "devicon-scala-plain",
        "fsharp": "devicon-fsharp-plain",
        "x86asm": "", // 아이콘 없음
        "d": "devicon-d-plain",
        "ada": "", // 아이콘 없음
        "elixir": "devicon-elixir-plain",
        "haskell": "devicon-haskell-plain",
        "php": "devicon-php-plain",
        "ocaml": "devicon-ocaml-plain",
        "java": "devicon-java-plain",
        "python": "devicon-python-plain",
        "perl": "devicon-perl-plain",
        "ruby": "devicon-ruby-plain",
        "javascript": "devicon-javascript-plain",
        "typescript": "devicon-typescript-plain",
        "bash": "devicon-bash-plain",
        "basic": "", // 아이콘 없음
        "dart": "devicon-dart-plain",
        "arduino": "devicon-arduino-plain",
        "fortran": "", // 아이콘 없음
        "csharp": "devicon-csharp-plain",
        "r": "devicon-r-plain",
        "go": "devicon-go-plain",
        "cpp": "devicon-cplusplus-plain",
        "lua": "devicon-lua-plain",
        "sql": "", // 아이콘 없음
        "clojure": "devicon-clojure-plain"
      };

      const languages = Object.keys(codeSnippets);
      let currentIndex = -1; // -1은 홈 화면을 나타냄

      const contentDiv = document.getElementById('content');
      const startButton = document.getElementById('startButton');
      const navButtons = document.querySelector('.nav-buttons');
      const prevButton = document.getElementById('prevButton');
      const nextButton = document.getElementById('nextButton');

      // 초기 화면 렌더링
      renderHome();

      // Start 버튼 클릭 이벤트
      startButton.addEventListener('click', () => {
        startPresentation();
      });

      // Previous 버튼 클릭 이벤트
      prevButton.addEventListener('click', () => {
        navigatePrevious();
      });

      // Next 버튼 클릭 이벤트
      nextButton.addEventListener('click', () => {
        navigateNext();
      });

      // 키보드 이벤트 리스너
      document.addEventListener('keydown', (event) => {
        const key = event.key;

        if (currentIndex === -1) { // 홈 화면일 때
          if (key === 'ArrowRight' || key === ' ') { // 오른쪽 화살표 키 또는 스페이스바
            startPresentation();
          }
        } else { // 코드 스니펫 화면일 때
          if (key === 'ArrowLeft') { // 왼쪽 화살표 키
            navigatePrevious();
          } else if (key === 'ArrowRight' || key === ' ') { // 오른쪽 화살표 키 또는 스페이스바
            navigateNext();
          }
        }
      });

      // 프레젠테이션 시작 함수
      function startPresentation() {
        startButton.style.display = 'none';
        navButtons.style.display = 'flex';
        currentIndex = 0;
        renderCode(currentIndex);
      }

      // 다음 코드 스니펫으로 이동 (순환)
      function navigateNext() {
        currentIndex++;
        if (currentIndex >= languages.length) {
          currentIndex = 0; // 첫 번째 코드 스니펫으로 순환
        }
        renderCode(currentIndex);
      }

      // 이전 코드 스니펫으로 이동 (순환)
      function navigatePrevious() {
        currentIndex--;
        if (currentIndex < 0) {
          currentIndex = languages.length - 1; // 마지막 코드 스니펫으로 순환
        }
        renderCode(currentIndex);
      }

      // 홈 화면 렌더링 함수
      function renderHome() {
        contentDiv.innerHTML = '<h1>Happy Birthday 🎉</h1>';
        navButtons.style.display = 'none';
        startButton.style.display = 'block';
        currentIndex = -1;
      }

      // 코드 스니펫 렌더링 함수
      function renderCode(index) {
        const language = languages[index];
        const code = codeSnippets[language];
        const languageName = capitalizeFirstLetter(getLanguageName(language));
        const iconClass = languageIcons[language] || '';

        // 언어 이름과 아이콘을 포함한 HTML 생성
        const headerHTML = iconClass 
          ? `<i class="${iconClass} language-logo"></i><span>${languageName}</span>`
          : `<span>${languageName}</span>`;

        contentDiv.innerHTML = `<h2>${headerHTML}</h2><pre><code class="language-${language}"></code></pre>`;
        const codeElement = contentDiv.querySelector('code');
        codeElement.textContent = code; // 안전하게 코드 삽입
        hljs.highlightElement(codeElement); // Highlight.js를 사용하여 하이라이팅 적용
      }

      // 첫 글자 대문자 변환 함수
      function capitalizeFirstLetter(string) {
        return string.charAt(0).toUpperCase() + string.slice(1);
      }

      // 언어 코드에서 표시 이름으로 변환 함수
      function getLanguageName(lang) {
        const languageNames = {
          "x86asm": "Assembly",
          "csharp": "C#",
          "cpp": "C++",
          "fsharp": "F#",
          "sql": "SQL",
          "php": "PHP"
        };
        return languageNames[lang] || lang;
      }
    });
  </script>
</body>
</html>